<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="icon" href="./imagesfavicon.ico">
    <link rel="stylesheet" href="./style.css">
    <title>Text Encryption</title>
</head>

<body>
    <div class="container">
        <h1>Text Encryption</h1>
        <h2>Encrypt Text</h2>
        <div class="input-container">
            <textarea id="text" placeholder="Enter text here" oninput="processText(1)"></textarea>
            <i class="fas fa-copy copy-icon" onclick="copyText(1)"></i>
        </div>
        <h2>Encrypted Text</h2>
        <div class="input-container">
            <textarea id="encrypted" placeholder="Encrypted text will appear here" oninput="processText(2)"></textarea>
            <i class="fas fa-copy copy-icon" onclick="copyText(2)"></i>
        </div>
    </div>

    <script>
        const encrypt = (text) => text ? CryptoJS.AES.encrypt(text, "Iqbolshoh_777").toString() : "";
        const decrypt = (encryptedText) => encryptedText ? CryptoJS.AES.decrypt(encryptedText, "Iqbolshoh_777").toString(CryptoJS.enc.Utf8) : "";
        function processText(n) {
            let text = document.getElementById("text"),
                encrypted = document.getElementById("encrypted");
            if (n === 1) {
                encrypted.value = encrypt(text.value);
            } else {
                text.value = decrypt(encrypted.value);
            }
        }
        function copyText(n) {
            let copyTextarea = (n === 1) ? document.getElementById("text") : document.getElementById("encrypted");
            copyTextarea.select();
            document.execCommand("copy");
        }
    </script>
</body>

</html>